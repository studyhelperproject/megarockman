# AGENTS.md: Coding Agents Guide for Rockman2-like Browser Game Project

## 1. Project Overview & Purpose
- **Primary Goal:** Create a faithful browser-based clone of Rockman 2 (Mega Man 2) using Phaser.js for 2D game logic and rendering. Use Gemini AI for full automation of asset creation (sprites, backgrounds, UI) and possibly for game code generation.
- **Business Domain:** Game Development, AI-assisted Automated Game Production

## 2. Core Technologies & Stack
- **Languages:** JavaScript, TypeScript (for core game logic and automation scripting)
- **Frameworks & Libraries:** Phaser.js (HTML5 2D game engine), Node.js + npm (development environment), Gemini API (AI-assisted image and code generation)
- **Asset Sources:** OpenGameArt, Kenney, itch.io (free 8-bit style assets), Gemini API for missing assets
- **Platforms:** Web browsers (desktop and mobile compatible)
- **Package Managers:** npm, yarn, or pnpm (suggest npm for simplicity)

## 3. Architectural Patterns
- **Overall Architecture:** Component-based 2D game engine architecture using Phaser's Scene and GameObject system. Modular structure separating game logic, asset loading, UI, and AI generation tasks.
- **Directory Structure Philosophy:**
  - `/src`: Game source code and logic scripts
  - `/assets`: Static assets (images, sounds), some autogenerated by Gemini
  - `/scripts`: AI generation orchestration and automation scripts for Gemini API usage
  - `/build`: Compiled/transpiled outputs ready for deployment
  - `/docs`: Documentation including this AGENTS.md and technical specs

## 4. Coding Conventions & Style Guide
- **Formatting:** Use standard JS/TS formatting (Prettier recommended). 2 spaces indent.
- **Naming Conventions:** camelCase for variables and functions, PascalCase for classes. Constants in UPPER_SNAKE_CASE.
- **API Design:** Object-oriented style with Phaser's Scene subclassing. Clear separation of input handling, game state, and rendering.
- **Extensibility:** Use Phaser's plugin system and custom components to enable adding new enemies, weapons, and stages without core changes.
- **Error Handling:** Use standard try/catch where needed; rely on Phaser's event system for runtime error reporting.

## 5. Key Files & Entrypoints
- `src/main.ts` or `src/main.js`: Game entry point, initializes Phaser game instance, loads main scene.
- `scripts/gemini-agent.ts`: Automation scripts handling Gemini API calls for asset and code generation.
- `src/scenes/StageSelectScene.ts`: Stage selection logic.
- `src/scenes/GameScene.ts`: Main gameplay logic.
- `src/assets/`: Holds static and generated assets.
- `package.json` / `tsconfig.json`: Project dependency and TypeScript configuration.

## 6. Development & Testing Workflow
- Use `npm install` to set up dependencies.
- Run development server via `npm run dev` (e.g. using Vite or Webpack Dev Server).
- Use automated scripts in `/scripts` to update assets via Gemini API (`node scripts/gemini-agent.ts`).
- Test gameplay both locally and on deployed environments (GitHub Pages, Vercel).
- Write unit tests for critical logic using Jest or similar.

## 7. Agent Instructions for Cooperation
- Handle asset generation with detailed prompts describing 8-bit style character sprites, backgrounds, UI elements.
- Automate repetitive tasks such as sprite animation setup, physics tuning, and AI enemy behavior generation.
- Generate code snippets aligned with Phaser.js patterns and project naming conventions.
- Report any ambiguity or missing information to human developers for clarification.

---
